var RC;!function(e,t){var o={host:""};RC=function(e,a){function r(t){e&&a?d(k,a,function(e){e.type==a&&(t&&"boolean"==typeof t?localStorage.removeItem("rc_config"):t&&"string"==typeof t&&localStorage.removeItem(t))}):t&&"boolean"==typeof t?(localStorage.removeItem("rc_config"),o={}):t&&"string"==typeof t&&localStorage.removeItem(t)}function n(e){return o[e]||o}function c(e,t,a){"object"==typeof e?o=s(e,o):o[e]=t,a&&localStorage.setItem("rc_config",JSON.stringify(o))}function u(t,r,n){"function"==typeof r&&(n=r,r=""),e&&a?d(k,a,function(e){e.type==a&&m({method:"get",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}):m({method:"get",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}function l(t,r,n){"function"==typeof r&&(n=r,r=""),e&&a?d(k,a,function(e){e.type==a&&m({method:"post",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}):m({method:"post",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}function i(t,r,n){"function"==typeof r&&(n=r,r=""),e&&a?d(k,a,function(e){e.type==a&&m({method:"put",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}):m({method:"put",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}function f(t,r,n){"function"==typeof r&&(n=r,r=""),e&&a?d(k,a,function(e){e.type==a&&m({method:"patch",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}):m({method:"patch",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}function h(t,r,n){"function"==typeof r&&(n=r,r=""),e&&a?d(k,a,function(e){e.type==a&&m({method:"delete",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}):m({method:"delete",url:o.host+t,data:y(r),callback:n,header:o.header}).then(g,v)}function d(e,t,o){t&&e&&e.addEventListener(t,function(e){o(e)})}function s(e,t){return"object"==typeof e&&"object"==typeof t&&Object.keys(e).forEach(function(o){"object"==typeof e[o]?s(e[o],t[o]):t[o]=e[o]}),t}function p(e){var o=[],a="";return"object"==typeof e?(Object.keys(e).forEach(function(a){if("string"==typeof e[a]){var r=t.querySelector(e[a]);r?o.push(a+"="+r.value):o.push(a+"="+e[a])}}),a=o.join("&")):a=e,a}function y(e,o){var a=t.querySelector(e),r=[];if("object"==typeof e)e=p(e);else if("string"==typeof e&&e)if(a&&o)Object.keys(o).forEach(function(e){var t=o[e];t=o[e].indexOf(".")>-1||o[e].indexOf("#")>-1||o[e].indexOf("[")>-1?t:"input[name="+o[e]+"]";var n=a.querySelector(t);n&&r.push(e+"="+n.value)}),e=r.join("&");else if(a){var n=a;e=b(n)}return e}function b(e){var o=[],a=0,r=["input","select","textarea"];"string"==typeof e&&(e=t.querySelector(e));var n=e.querySelectorAll(r.join(","));if(n){for(a in n){var c=n[a];if(c.value){var u=c.name||"field"+ ++a,l=c.value;if("input"!=c.localName||"radio"!=c.type&&"checkbox"!=c.type||!c.checked||o.push(u+"="+l),"select"==c.localName){var i=c.querySelectorAll("option");i.forEach(function(e){e.selected&&(c.hasAttribute("multiple")&&u.indexOf("[")==-1&&(u+="[]"),o.push(u+"="+e.value))})}"text"!=c.type&&"textarea"!=c.type||o.push(u+"="+l)}}return o.join("&")}return""}function m(e){return new Promise(function(t,o){var a=e;a.method=e.method||"post",a.url=e.url||"",a.data=e.data||"",a.callback=e.callback||!1,a.header=e.header||!1;var r=a.data;"get"==a.method.toLowerCase()&&(a.url=a.url+"?"+r);var n=new XMLHttpRequest;return n.open(a.method,a.url,!0),"get"!=a.method.toLowerCase()&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.header&&Object.keys(a.header).forEach(function(e){n.setRequestHeader(e,a.header[e])}),n.onload=function(a){obj=a.target,200==obj.status?(obj.options=e,t(obj)):o(Error("Proccess didn't load successfully, error: ("+obj.status+")"+obj.statusText))},n.onerror=function(){o(Error("There was a network error"))},n.send(r),n})}function g(e){e.options.callback&&e.options.callback(e.responseText,e.status,e.statusText)}function v(e){console.log(e)}var k;return e&&(k=t.querySelector(e)),localStorage.getItem("rc_config")&&(o=JSON.parse(localStorage.getItem("rc_config"))),{get:u,post:l,put:i,patch:f,"delete":h,clearSess:r,getConfig:n,setConfig:c}}}(window,document);